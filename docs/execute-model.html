<!DOCTYPE html><html lang="en" class="__className_e8ce0c"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/7a95a21c295627fa.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-5cb5f438e4923c75.js"/><script src="/_next/static/chunks/4bd1b696-bdbcd6b6abfa5f41.js" async=""></script><script src="/_next/static/chunks/684-8fc871b7617a5b5f.js" async=""></script><script src="/_next/static/chunks/main-app-4b36f602801d20d5.js" async=""></script><script src="/_next/static/chunks/35-e6a2aa443a9969c6.js" async=""></script><script src="/_next/static/chunks/493-22e9dc7fbfdea194.js" async=""></script><script src="/_next/static/chunks/app/layout-c704b2e4b9cc746f.js" async=""></script><script src="/_next/static/chunks/459-3343952df99202c2.js" async=""></script><script src="/_next/static/chunks/371-f6e78e78e3a20544.js" async=""></script><script src="/_next/static/chunks/36-7e56e85e44f3b80d.js" async=""></script><script src="/_next/static/chunks/688-634046d9ca757bb0.js" async=""></script><script src="/_next/static/chunks/app/docs/layout-61397bbc5b22873c.js" async=""></script><script src="/_next/static/chunks/468-4edc99a1fcb3f5e1.js" async=""></script><script src="/_next/static/chunks/161-92d69d2fc689b7ac.js" async=""></script><script src="/_next/static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js" async=""></script><meta name="next-size-adjust" content=""/><title>Execution Model</title><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="flex flex-col min-h-screen"><script>((e,t,r,n,o,a,i,u)=>{let l=document.documentElement,s=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&a?o.map(e=>a[e]||e):o;r?(l.classList.remove(...n),l.classList.add(a&&a[t]?a[t]:t)):l.setAttribute(e,t)}),r=t,u&&s.includes(r)&&(l.style.colorScheme=r)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div class="mt-auto border-t p-3 empty:hidden"></div><header id="nd-subnav" class="fixed top-(--fd-banner-height) inset-x-0 z-30 flex items-center px-4 border-b transition-colors backdrop-blur-sm bg-fd-background/80 h-14 md:hidden"><a class="inline-flex items-center gap-2.5 font-semibold" href="/"><img alt="logo" loading="lazy" width="24" height="24" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/logo.60f7ead8.svg"/>Neutrino</a><div class="flex-1"></div><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none hover:bg-fd-accent hover:text-fd-accent-foreground [&amp;_svg]:size-4.5 p-2" data-search="" aria-label="Open Search"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg></button><button aria-label="Open Sidebar" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none hover:bg-fd-accent hover:text-fd-accent-foreground [&amp;_svg]:size-4.5 p-2 -me-1.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg></button></header><main id="nd-docs-layout" class="flex flex-1 flex-col transition-[margin] md:[--fd-sidebar-width:268px] lg:[--fd-sidebar-width:286px] xl:[--fd-toc-width:286px] [--fd-nav-height:56px] md:[--fd-nav-height:0px]" style="margin-inline-start:var(--fd-sidebar-width)"><aside id="nd-sidebar" data-collapsed="false" class="fixed start-0 flex flex-col items-end top-(--fd-sidebar-top) bottom-(--fd-sidebar-margin) z-20 bg-fd-card text-sm border-e max-md:hidden *:w-(--fd-sidebar-width)" style="transition:top ease 250ms, opacity ease 250ms, translate ease 250ms, width ease 250ms;--fd-sidebar-offset:calc(100% - 16px);--fd-sidebar-margin:0px;width:calc(var(--fd-sidebar-width) + var(--fd-layout-offset));--fd-sidebar-top:calc(var(--fd-banner-height) + var(--fd-nav-height) + var(--fd-sidebar-margin))"><div data-fdid="«R1jblb»" class="flex flex-col gap-3 p-4 pb-2"><div class="flex max-md:hidden"><a class="inline-flex text-[15px] items-center gap-2.5 font-medium" href="/"><img alt="logo" loading="lazy" width="24" height="24" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/logo.60f7ead8.svg"/>Neutrino</a><button type="button" aria-label="Collapse Sidebar" data-collapsed="false" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none hover:bg-fd-accent hover:text-fd-accent-foreground p-1.5 [&amp;_svg]:size-4.5 ms-auto mb-auto text-fd-muted-foreground max-md:hidden"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg></button></div><button type="button" data-search-full="" class="inline-flex items-center gap-2 rounded-lg border bg-fd-secondary/50 p-1.5 ps-2 text-sm text-fd-muted-foreground transition-colors hover:bg-fd-accent hover:text-fd-accent-foreground max-md:hidden"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-4"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>Search<div class="ms-auto inline-flex gap-0.5"><kbd class="rounded-md border bg-fd-background px-1.5">⌘</kbd><kbd class="rounded-md border bg-fd-background px-1.5">K</kbd></div></button></div><script>{
const element = document.querySelector('[data-fdid="«R1jblb»"]')
if (element) {
  element.setAttribute('data-empty', String((e=>{for(let t=0;t<e.childNodes.length;t++){let r=e.childNodes.item(t);if(r.nodeType===Node.TEXT_NODE||r.nodeType===Node.ELEMENT_NODE&&"none"!==window.getComputedStyle(r).display)return!1}return!0})(element)))
}}</script><div dir="ltr" class="overflow-hidden h-full" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="size-full rounded-[inherit] p-4" style="overflow-x:hidden;overflow-y:hidden;mask-image:linear-gradient(to bottom, transparent, white 12px, white calc(100% - 12px), transparent)"><div style="min-width:100%;display:table"><p class="inline-flex items-center gap-2 mb-1.5 px-2 font-medium empty:mb-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0" style="padding-inline-start:calc(var(--spacing) * 2)">Introduction</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs">Hello World</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/differs">How Neutrino differs from...</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/roadmap">Limitation and Roadmap</a><p class="inline-flex items-center gap-2 mb-1.5 px-2 font-medium empty:mb-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 mt-6" style="padding-inline-start:calc(var(--spacing) * 2)">Getting Started</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/installation">Installation</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/software-support">Software Support</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/hardware-support">Hardware Support</a><p class="inline-flex items-center gap-2 mb-1.5 px-2 font-medium empty:mb-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 mt-6" style="padding-inline-start:calc(var(--spacing) * 2)">Programming Probes</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/write-probes">Writing Probes</a><a data-active="true" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-fd-primary/10 text-fd-primary" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/execute-model">Execution Model</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/read-trace">Reading Traces</a><p class="inline-flex items-center gap-2 mb-1.5 px-2 font-medium empty:mb-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 mt-6" style="padding-inline-start:calc(var(--spacing) * 2)">Reference and Internals</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/system-workflow">Overview and Workflow</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/cli-entry">Command-Line Interface</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/hook-driver">Hook Driver</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/probe-engine">Probe Engine</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/dsl-compiler">Tracing DSL and Compiler</a><p class="inline-flex items-center gap-2 mb-1.5 px-2 font-medium empty:mb-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 mt-6" style="padding-inline-start:calc(var(--spacing) * 2)">Utilities and Extensions</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/analysis-code">Trace Reading Codegen</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/callback">Trace Analysis Callback</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground [overflow-wrap:anywhere] md:py-1.5 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none" style="padding-inline-start:calc(var(--spacing) * 2)" href="/docs/highlevel-info">High Level Information</a></div></div></div><div data-fdid="«R3jblb»" class="flex flex-col border-t px-4 py-3"><div class="flex items-center justify-end" data-fdid="«R1fjblb»"><div class="flex items-center flex-1 empty:hidden"><a href="https://github.com/open-neutrino/neutrino" rel="noreferrer noopener" target="_blank" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none hover:bg-fd-accent hover:text-fd-accent-foreground p-1.5 [&amp;_svg]:size-5 text-fd-muted-foreground md:[&amp;_svg]:size-4.5" aria-label="GitHub" data-active="false"><svg role="img" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><button class="inline-flex items-center rounded-full border p-0" aria-label="Toggle Theme" data-theme-toggle=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-6.5 rounded-full p-1.5 text-fd-muted-foreground"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-6.5 rounded-full p-1.5 text-fd-muted-foreground"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></button></div><script>{
const element = document.querySelector('[data-fdid="«R1fjblb»"]')
if (element) {
  element.setAttribute('data-empty', String((e=>{for(let t=0;t<e.childNodes.length;t++){let r=e.childNodes.item(t);if(r.nodeType===Node.TEXT_NODE||r.nodeType===Node.ELEMENT_NODE&&"none"!==window.getComputedStyle(r).display)return!1}return!0})(element)))
}}</script></div><script>{
const element = document.querySelector('[data-fdid="«R3jblb»"]')
if (element) {
  element.setAttribute('data-empty', String((e=>{for(let t=0;t<e.childNodes.length;t++){let r=e.childNodes.item(t);if(r.nodeType===Node.TEXT_NODE||r.nodeType===Node.ELEMENT_NODE&&"none"!==window.getComputedStyle(r).display)return!1}return!0})(element)))
}}</script></aside><div id="nd-page" class="flex flex-1 mx-auto w-full" style="padding-top:calc(var(--fd-nav-height) + var(--fd-tocnav-height));max-width:min(var(--fd-page-width),calc(var(--fd-layout-width) - var(--fd-sidebar-width)))"><header id="nd-tocnav" class="fixed inset-x-0 z-10 border-b backdrop-blur-sm transition-colors xl:hidden bg-fd-background/80" style="top:calc(var(--fd-banner-height) + var(--fd-nav-height));inset-inline-start:calc(var(--fd-sidebar-width) + var(--fd-layout-offset))" data-state="closed"><button type="button" aria-controls="radix-«R4utblb»" aria-expanded="false" data-state="closed" class="flex w-full h-(--fd-tocnav-height) items-center text-sm text-fd-muted-foreground gap-2.5 px-4 py-2.5 text-start focus-visible:outline-none [&amp;_svg]:shrink-0 [&amp;_svg]:size-4 md:px-6"><svg role="progressbar" viewBox="0 0 24 24" aria-valuenow="0" aria-valuemin="0" aria-valuemax="1" class=""><circle cx="12" cy="12" r="11" fill="none" stroke-width="2" class="stroke-current/25"></circle><circle cx="12" cy="12" r="11" fill="none" stroke-width="2" stroke="currentColor" stroke-dasharray="69.11503837897544" stroke-dashoffset="69.11503837897544" stroke-linecap="round" transform="rotate(-90 12 12)" class="transition-all"></circle></svg><span class="grid flex-1 *:my-auto *:row-start-1 *:col-start-1"><span class="truncate transition-all">Execution Model</span><span class="truncate transition-all opacity-0 translate-y-full pointer-events-none"></span></span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide transition-transform mx-0.5"><path d="m6 9 6 6 6-6"></path></svg></button><div data-state="closed" id="radix-«R4utblb»" hidden="" data-toc-popover="" class="overflow-hidden flex flex-col px-4 max-h-[50vh] md:px-6"></div></header><article class="flex min-w-0 w-full flex-col gap-6 px-4 pt-8 md:px-6 md:mx-auto xl:pt-12 xl:px-12"><h1 class="text-3xl font-semibold">Execution Model</h1><div class="prose"><div class="my-4 flex gap-2 rounded-lg border border-s-2 bg-fd-card p-3 text-sm text-fd-card-foreground shadow-md border-s-blue-500/50"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-5 fill-blue-500 text-fd-card"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg><div class="min-w-0 flex flex-col gap-2 flex-1"><div class="text-fd-muted-foreground prose-no-margin empty:hidden"><p>Contents of this page targets general developers with intuitiveness in mind.
You can find a more formal, professional description in <em><strong>Neutrino Design</strong></em> section of our OSDI 25 paper.</p></div></div></div>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="motivating-example"><a data-card="" href="#motivating-example" class="peer">Motivating Example</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-label="Link to section"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<p><code>neutrino</code> probes are executed in a simple, interesting but robust model.
Let&#x27;s consider a motivating example (regardless of GPU):</p>
<figure dir="ltr" class="not-prose group relative my-4 overflow-hidden rounded-lg border bg-fd-card text-sm outline-none shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><div class="flex items-center gap-2 bg-fd-secondary px-4 py-1.5"><div class="text-fd-muted-foreground [&amp;_svg]:size-3.5"><svg viewBox="0 0 24 24"><path d="M16.5921 9.1962s-.354-3.298-3.627-3.39c-3.2741-.09-4.9552 2.474-4.9552 6.14 0 3.6651 1.858 6.5972 5.0451 6.5972 3.184 0 3.5381-3.665 3.5381-3.665l6.1041.365s.36 3.31-2.196 5.836c-2.552 2.5241-5.6901 2.9371-7.8762 2.9201-2.19-.017-5.2261.034-8.1602-2.97-2.938-3.0101-3.436-5.9302-3.436-8.8002 0-2.8701.556-6.6702 4.047-9.5502C7.444.72 9.849 0 12.254 0c10.0422 0 10.7172 9.2602 10.7172 9.2602z" fill="currentColor" /></svg></div><figcaption class="flex-1 truncate text-fd-muted-foreground">original.c</figcaption><button type="button" class="inline-flex items-center justify-center rounded-md p-2 text-sm font-medium duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none hover:bg-fd-accent hover:text-fd-accent-foreground transition-opacity group-hover:opacity-100 [&amp;_svg]:size-3.5 [@media(hover:hover)]:opacity-0 -me-2" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide transition-transform scale-0"><path d="M20 6 9 17l-5-5"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide absolute transition-transform"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div><div class="text-[13px] py-3.5 overflow-auto [&amp;_.line]:px-4 max-h-[600px] fd-scroll-container"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// use function because GPU Kernel are Function</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> b;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D"> // shall be 3</span></span></code></pre></div></figure>
<p>If we want to observe the program, for example, the value of <code>a</code> in the runtime,
one interesting way is to <strong>&quot;fuse&quot; another function</strong> (what we call probe)
like the following example:</p>
<div dir="ltr" data-orientation="horizontal" class="flex flex-col overflow-hidden rounded-xl border bg-fd-secondary my-4"><div role="tablist" aria-orientation="horizontal" class="flex gap-3.5 text-fd-secondary-foreground overflow-x-auto px-4 not-prose" tabindex="-1" data-orientation="horizontal" style="outline:none"><button type="button" role="tab" aria-selected="true" aria-controls="radix-«R5t8utblb»-content-simpler" data-state="active" id="radix-«R5t8utblb»-trigger-simpler" class="inline-flex items-center gap-2 whitespace-nowrap text-fd-muted-foreground border-b border-transparent py-2 text-sm font-medium transition-colors [&amp;_svg]:size-4 hover:text-fd-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=active]:border-fd-primary data-[state=active]:text-fd-primary" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">simpler</button><button type="button" role="tab" aria-selected="false" aria-controls="radix-«R5t8utblb»-content-and-can be more seamless" data-state="inactive" id="radix-«R5t8utblb»-trigger-and-can be more seamless" class="inline-flex items-center gap-2 whitespace-nowrap text-fd-muted-foreground border-b border-transparent py-2 text-sm font-medium transition-colors [&amp;_svg]:size-4 hover:text-fd-accent-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=active]:border-fd-primary data-[state=active]:text-fd-primary" tabindex="-1" data-orientation="horizontal" data-radix-collection-item="">and can be more seamless</button></div><div data-state="active" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R5t8utblb»-trigger-simpler" id="radix-«R5t8utblb»-content-simpler" tabindex="0" class="p-4 text-[15px] bg-fd-background rounded-xl outline-none prose-no-margin data-[state=inactive]:hidden [&amp;&gt;figure:only-child]:-m-4 [&amp;&gt;figure:only-child]:border-none" style="animation-duration:0s"><figure dir="ltr" class="not-prose group relative my-4 overflow-hidden rounded-lg border bg-fd-card text-sm outline-none shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><div class="flex items-center gap-2 bg-fd-secondary px-4 py-1.5"><div class="text-fd-muted-foreground [&amp;_svg]:size-3.5"><svg viewBox="0 0 24 24"><path d="M16.5921 9.1962s-.354-3.298-3.627-3.39c-3.2741-.09-4.9552 2.474-4.9552 6.14 0 3.6651 1.858 6.5972 5.0451 6.5972 3.184 0 3.5381-3.665 3.5381-3.665l6.1041.365s.36 3.31-2.196 5.836c-2.552 2.5241-5.6901 2.9371-7.8762 2.9201-2.19-.017-5.2261.034-8.1602-2.97-2.938-3.0101-3.436-5.9302-3.436-8.8002 0-2.8701.556-6.6702 4.047-9.5502C7.444.72 9.849 0 12.254 0c10.0422 0 10.7172 9.2602 10.7172 9.2602z" fill="currentColor" /></svg></div><figcaption class="flex-1 truncate text-fd-muted-foreground">probe.c</figcaption><button type="button" class="inline-flex items-center justify-center rounded-md p-2 text-sm font-medium duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none hover:bg-fd-accent hover:text-fd-accent-foreground transition-opacity group-hover:opacity-100 [&amp;_svg]:size-3.5 [@media(hover:hover)]:opacity-0 -me-2" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide transition-transform scale-0"><path d="M20 6 9 17l-5-5"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide absolute transition-transform"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div><div class="text-[13px] py-3.5 overflow-auto [&amp;_.line]:px-4 max-h-[600px] fd-scroll-container"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">//  use function because GPU Kernel are Function</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> probed_add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> c</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> a;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">       // add our probed code</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> b;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D"> // remain the original code</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// and change the caller a bit</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">void*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">malloc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">sizeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)); </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, c);</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D"> // shall still be 3</span></span></code></pre></div></figure></div><div data-state="inactive" data-orientation="horizontal" role="tabpanel" aria-labelledby="radix-«R5t8utblb»-trigger-and-can be more seamless" id="radix-«R5t8utblb»-content-and-can be more seamless" tabindex="0" class="p-4 text-[15px] bg-fd-background rounded-xl outline-none prose-no-margin data-[state=inactive]:hidden [&amp;&gt;figure:only-child]:-m-4 [&amp;&gt;figure:only-child]:border-none"><figure dir="ltr" class="not-prose group relative my-4 overflow-hidden rounded-lg border bg-fd-card text-sm outline-none shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><div class="flex items-center gap-2 bg-fd-secondary px-4 py-1.5"><div class="text-fd-muted-foreground [&amp;_svg]:size-3.5"><svg viewBox="0 0 24 24"><path d="M16.5921 9.1962s-.354-3.298-3.627-3.39c-3.2741-.09-4.9552 2.474-4.9552 6.14 0 3.6651 1.858 6.5972 5.0451 6.5972 3.184 0 3.5381-3.665 3.5381-3.665l6.1041.365s.36 3.31-2.196 5.836c-2.552 2.5241-5.6901 2.9371-7.8762 2.9201-2.19-.017-5.2261.034-8.1602-2.97-2.938-3.0101-3.436-5.9302-3.436-8.8002 0-2.8701.556-6.6702 4.047-9.5502C7.444.72 9.849 0 12.254 0c10.0422 0 10.7172 9.2602 10.7172 9.2602z" fill="currentColor" /></svg></div><figcaption class="flex-1 truncate text-fd-muted-foreground">probe.c</figcaption><button type="button" class="inline-flex items-center justify-center rounded-md p-2 text-sm font-medium duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none hover:bg-fd-accent hover:text-fd-accent-foreground transition-opacity group-hover:opacity-100 [&amp;_svg]:size-3.5 [@media(hover:hover)]:opacity-0 -me-2" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide transition-transform scale-0"><path d="M20 6 9 17l-5-5"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide absolute transition-transform"><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg></button></div><div class="text-[13px] py-3.5 overflow-auto [&amp;_.line]:px-4 max-h-[600px] fd-scroll-container"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">//  use function because GPU Kernel are Function</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> probed_add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> b</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int*</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> c</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    *</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> a;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">       // add our probed code</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> b;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D"> // remain the original code</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> launch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">binop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">), </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> lhs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> rhs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    int*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> c </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">void*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">malloc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">sizeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)); </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> binop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(lhs, rhs, c);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> launch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(probed_add, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span></code></pre></div></figure></div></div>
<p>This idea is similar to the kernel fusion, which proves that two independent functions can be safely merged into one, if:</p>
<ul>
<li>Two merged function has independent parameters and returns.</li>
<li>Two merged function has independent variable names (register space).</li>
<li>Two merged function has independent instructions, which is naturally guaranteed as instructions are executed one-by-one in CPU/GPU/NPU.</li>
</ul>
<p>By ensuring these conditions, this program model
is robustly correct as the compiler/assembler will help protect the correctness
and is of nearly zero-overhead because there is no context switch or stack frame creation, etc.</p>
<p>And the only difference between <code>neutrino</code> probe and other kernel fusion is that <code>neutrino</code> probes&#x27; code depends on the client program (e.g., <code>*c = a;</code>),
which can still guarantee the security if the dependence is read-only.</p>
<p>Another analogy is like a <code>daemon</code> that runs in the background and is invoked when need to read the foreground code&#x27;s runtime value.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="some-justification"><a data-card="" href="#some-justification" class="peer">Some Justification</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-label="Link to section"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p>However, though the model is simple, the requirement is strict that the program must be &quot;static&quot;, means</p>
<ol>
<li>Codes cannot change itself in the runtime (like <a href="https://en.wikipedia.org/wiki/Monkey_patch" rel="noreferrer noopener" target="_blank">Monkey Patching</a> or a simple <code>eval()</code> in Javascript/Python)</li>
<li>All codes must be known in advanced for processing, i.e., cannot load unknown program (like <code>dlopen</code>).</li>
</ol>
<p>All these can make the probe not tracing correctly, and this is why this model has been largely forgetten by CPU performance engineers,
who now uses <a href="https://perf.wiki.kernel.org/index.php/Perf_tools_support_for_Intel%C2%AE_Processor_Trace" rel="noreferrer noopener" target="_blank">processor trace</a> or <a href="https://ebpf.io" rel="noreferrer noopener" target="_blank">interrupt</a> for better coverage.</p>
<p>However, <code>neutrino</code> identifies that this model works fluently on GPU because:</p>
<ol>
<li>GPU code cannot change itself.</li>
<li>GPU code must be loaded explicitly to driver.</li>
</ol>
<p>These two reasons make us to choose this simple program model for <code>neutrino</code>, a GPU kernel profiler.</p>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="virtualization-and-contexted-registers"><a data-card="" href="#virtualization-and-contexted-registers" class="peer">Virtualization and Contexted Registers</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-label="Link to section"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<p>Now we present more technical discussion on the virtualization of <code>neutrino</code>&#x27;s probe w.r.t. the original/foreground computing tasks.
Following the principle of operating system,
virtualization comes from both time and resource separation:</p>
<ul>
<li><strong>Time Separation</strong>: <code>neutrino</code>s originates from the SIMT execution model of GPGPU, where parallelism happens among threads while execution within a thread is generally sequential with one instruction at a cycle. Therefore, since we directly instruments the instructions into the original program,  their time separation from the original program will be guaranteed.</li>
<li><strong>Resource Separation</strong>: GPU threads also have thread-private registers as their primary resources. <code>neutrino</code> virtualizes the probe registers by separating an independent register group, as well as other resources like GMEM. Thus, <code>neutrino</code> probes can avoid affecting the original program&#x27;s resources, and the execution flow.</li>
</ul>
<div class="my-4 flex gap-2 rounded-lg border border-s-2 bg-fd-card p-3 text-sm text-fd-card-foreground shadow-md border-s-blue-500/50"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-5 fill-blue-500 text-fd-card"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg><div class="min-w-0 flex flex-col gap-2 flex-1"><p class="font-medium !my-0">Logical and Physical Registers</p><div class="text-fd-muted-foreground prose-no-margin empty:hidden"><p>It is worth noting that <code>neutrino</code> probe register group is declared logically at the assembly level rather than physically. Logical registers will be integrated into physical registers by the assembler in register allocation, with independence between probes and the original program preserved by dependency tracking algorithms.</p></div></div></div>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="persistence-and-ebpf-like-map"><a data-card="" href="#persistence-and-ebpf-like-map" class="peer">Persistence and eBPF-like Map</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-label="Link to section"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<p>For CPU profiling tools, saving readings are simple, at least you can simply <code>printf</code> to the shell.
However, anyone used CUDA/HIP <code>printf</code> will noticed the challenge of persistence on GPU:</p>
<ol>
<li>Race condition: GPU can have &gt;10,000 threads, saving results without concurrency cotnrol can easily leads to corruption. But concurrency control, such as <code>atomic</code> is also heavy on GPU...</li>
<li>Metadata-heavy: Usually we want <code>pid/tid</code> (8 bytes) be included for analysis, but on GPU, these will takes 24 bytes (<code>blockIdx/gridIdx</code>) or more (if need <code>blockDim/gridDim</code>).</li>
</ol>
<p>Inspired by the lock-free per-cpu eBPF maps and event-buffer of HIPAnalyzer, <code>neutrino</code> presents a eBPF-like per-thread/warp Map, the main idea is:</p>
<ol>
<li>Let each thread/warp has their map, rather than sharing a global map, so no lock/atomic need.</li>
<li>Formulate the maps in <code>ndarray</code> layout, let metadata (<code>threadIdx/blockIdx</code>) implicitly inferred from array structure rather than directly stored.</li>
</ol></div><div role="none" class="flex-1"></div><div class="flex flex-row flex-wrap items-center justify-between gap-4 empty:hidden"></div><div class="@container grid gap-4 pb-6 grid-cols-2"><a class="flex flex-col gap-2 rounded-lg border p-4 text-sm transition-colors hover:bg-fd-accent/80 hover:text-fd-accent-foreground @max-lg:col-span-full" href="/docs/write-probes"><div class="inline-flex items-center gap-1.5 font-medium"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide -mx-1 size-4 shrink-0 rtl:rotate-180"><path d="m15 18-6-6 6-6"></path></svg><p>Writing Probes</p></div><p class="text-fd-muted-foreground truncate">Previous Page</p></a><a class="flex flex-col gap-2 rounded-lg border p-4 text-sm transition-colors hover:bg-fd-accent/80 hover:text-fd-accent-foreground @max-lg:col-span-full text-end" href="/docs/read-trace"><div class="inline-flex items-center gap-1.5 font-medium flex-row-reverse"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide -mx-1 size-4 shrink-0 rtl:rotate-180"><path d="m9 18 6-6-6-6"></path></svg><p>Reading Traces</p></div><p class="text-fd-muted-foreground truncate">Next Page</p></a></div></article><div id="nd-toc" class="sticky pb-2 pt-12 max-xl:hidden" style="top:calc(var(--fd-banner-height) + var(--fd-nav-height));height:calc(100dvh - var(--fd-banner-height) - var(--fd-nav-height))"><div class="flex h-full w-(--fd-toc-width) max-w-full flex-col pe-4"><h3 class="inline-flex items-center gap-1.5 text-sm text-fd-muted-foreground"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-4"><path d="M15 18H3"></path><path d="M17 6H3"></path><path d="M21 12H3"></path></svg>On this page</h3><div class="relative min-h-0 text-sm ms-px overflow-auto [scrollbar-width:none] [mask-image:linear-gradient(to_bottom,transparent,white_16px,white_calc(100%-16px),transparent)] py-3"><div role="none" class="absolute top-(--fd-top) h-(--fd-height) w-px bg-fd-primary transition-all"></div><div class="flex flex-col border-s border-fd-foreground/10"><a data-active="false" href="#motivating-example" class="prose py-1.5 text-sm text-fd-muted-foreground transition-colors [overflow-wrap:anywhere] first:pt-0 last:pb-0 data-[active=true]:text-fd-primary ps-3">Motivating Example</a><a data-active="false" href="#some-justification" class="prose py-1.5 text-sm text-fd-muted-foreground transition-colors [overflow-wrap:anywhere] first:pt-0 last:pb-0 data-[active=true]:text-fd-primary ps-6">Some Justification</a><a data-active="false" href="#virtualization-and-contexted-registers" class="prose py-1.5 text-sm text-fd-muted-foreground transition-colors [overflow-wrap:anywhere] first:pt-0 last:pb-0 data-[active=true]:text-fd-primary ps-3">Virtualization and Contexted Registers</a><a data-active="false" href="#persistence-and-ebpf-like-map" class="prose py-1.5 text-sm text-fd-muted-foreground transition-colors [overflow-wrap:anywhere] first:pt-0 last:pb-0 data-[active=true]:text-fd-primary ps-3">Persistence and eBPF-like Map</a></div></div></div></div></div><!--$--><!--/$--><!--$--><!--/$--></main><script src="/_next/static/chunks/webpack-5cb5f438e4923c75.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[3128,[\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"493\",\"static/chunks/493-22e9dc7fbfdea194.js\",\"177\",\"static/chunks/app/layout-c704b2e4b9cc746f.js\"],\"RootProvider\"]\n3:I[7555,[],\"\"]\n4:I[1295,[],\"\"]\n5:I[8693,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"TreeContextProvider\"]\n6:I[1339,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"NavProvider\"]\n7:I[4045,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"Navbar\"]\n8:I[2808,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"default\"]\n9:I[3063,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"Image\"]\na:I[5403,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"SearchToggle\"]\nb:I[4045,[\"459\",\"static/chunks/459-334395"])</script><script>self.__next_f.push([1,"2df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"NavbarSidebarTrigger\"]\nc:I[4045,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"LayoutBody\"]\nd:I[4045,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"CollapsibleControl\"]\ne:I[6776,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"Sidebar\"]\nf:I[8055,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"HideIfEmpty\"]\n10:I[6776,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"SidebarHeader\"]\n11:I[6776,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688"])</script><script>self.__next_f.push([1,"-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"SidebarCollapseTrigger\"]\n12:I[5403,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"LargeSearchToggle\"]\n13:I[6776,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"SidebarViewport\"]\n14:I[6776,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"SidebarPageTree\"]\n15:I[6776,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"SidebarFooter\"]\n16:I[4657,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"BaseLinkItem\"]\n17:I[1624,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"35\",\"static/chunks/35-e6a2aa443a9969c6.js\",\"371\",\"static/chunks/371-f6e78e78e3a20544.js\",\"36\",\"static/chunks/36-7e56e85e44f3b80d.js\",\"688\",\"static/chunks/688-634046d9ca757bb0.js\",\"499\",\"static/chunks/app/docs/layout-61397bbc5b22873c.js\"],\"ThemeToggle\"]\n19:I[9665,[],\"MetadataBoundary\"]\n1b:I[9665,[],\"OutletBound"])</script><script>self.__next_f.push([1,"ary\"]\n1e:I[4911,[],\"AsyncMetadataOutlet\"]\n20:I[9665,[],\"ViewportBoundary\"]\n22:I[6614,[],\"\"]\n:HL[\"/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/7a95a21c295627fa.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"ezN3Piz5_i47y-bUmNcAi\",\"p\":\"\",\"c\":[\"\",\"docs\",\"execute-model\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"execute-model\",\"oc\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/7a95a21c295627fa.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__className_e8ce0c\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"flex flex-col min-h-screen\",\"children\":[\"$\",\"$L2\",null,{\"search\":{\"options\":{\"type\":\"static\"}},\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]}]]}],{\"children\":[\"docs\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L5\",null,{\"tree\":{\"$id\":\"root\",\"name\":\"Neutrino\",\"children\":[{\"$id\":\"#0\",\"type\":\"separator\",\"icon\":\"$undefined\",\"name\":\"Introduction\"},{\"$id\":\"index.mdx\",\"type\":\"page\",\"name\":\"Hello World\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs\",\"$ref\":{\"file\":\"index\"}},{\"$id\":\"differs.mdx\",\"type\":\"page\",\"name\":\"How Neutrino differs from...\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/differs\",\"$ref\":{\"file\":\"differs\"}},{\"$id\":\"roadmap.mdx\",\"type\":\"page\",\"name\":\"Limitation and Roadmap\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/roadmap\",\"$ref\":{\"file\":\"roadmap\"}},{\"$id\":\"#4\",\"type\":\"separator\",\"icon\":\"$undefined\",\"name\":\"Getting Started\"},{\"$id\":\"installation.mdx\",\"type\":\"page\",\"name\":\"Installation\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/installation\",\"$ref\":{\"file\":\"installation\"}},{\"$id\":\"software-support.mdx\",\"type\":\"page\",\"name\":\"Software Support\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/software-support\",\"$ref\":{\"file\":\"software-support\"}},{\"$id\":\"hardware-support.mdx\",\"type\":\"page\",\"name\":\"Hardware Support\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/hardware-support\",\"$ref\":{\"file\":\"hardware-support\"}},{\"$id\":\"#8\",\"type\":\"separator\",\"icon\":\"$undefined\",\"name\":\"Programming Probes\"},{\"$id\":\"write-probes.mdx\",\"type\":\"page\",\"name\":\"Writing Probes\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/write-probes\",\"$ref\":{\"file\":\"write-probes\"}},{\"$id\":\"execute-model.mdx\",\"type\":\"page\",\"name\":\"Execution Model\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/execute-model\",\"$ref\":{\"file\":\"execute-model\"}},{\"$id\":\"read-trace.mdx\",\"type\":\"page\",\"name\":\"Reading Traces\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/read-trace\",\"$ref\":{\"file\":\"read-trace\"}},{\"$id\":\"#12\",\"type\":\"separator\",\"icon\":\"$undefined\",\"name\":\"Reference and Internals\"},{\"$id\":\"system-workflow.mdx\",\"type\":\"page\",\"name\":\"Overview and Workflow\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/system-workflow\",\"$ref\":{\"file\":\"system-workflow\"}},{\"$id\":\"cli-entry.mdx\",\"type\":\"page\",\"name\":\"Command-Line Interface\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/cli-entry\",\"$ref\":{\"file\":\"cli-entry\"}},{\"$id\":\"hook-driver.mdx\",\"type\":\"page\",\"name\":\"Hook Driver\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/hook-driver\",\"$ref\":{\"file\":\"hook-driver\"}},{\"$id\":\"probe-engine.mdx\",\"type\":\"page\",\"name\":\"Probe Engine\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/probe-engine\",\"$ref\":{\"file\":\"probe-engine\"}},{\"$id\":\"dsl-compiler.mdx\",\"type\":\"page\",\"name\":\"Tracing DSL and Compiler\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/dsl-compiler\",\"$ref\":{\"file\":\"dsl-compiler\"}},{\"$id\":\"#18\",\"type\":\"separator\",\"icon\":\"$undefined\",\"name\":\"Utilities and Extensions\"},{\"$id\":\"analysis-code.mdx\",\"type\":\"page\",\"name\":\"Trace Reading Codegen\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/analysis-code\",\"$ref\":{\"file\":\"analysis-code\"}},{\"$id\":\"callback.mdx\",\"type\":\"page\",\"name\":\"Trace Analysis Callback\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/callback\",\"$ref\":{\"file\":\"callback\"}},{\"$id\":\"highlevel-info.mdx\",\"type\":\"page\",\"name\":\"High Level Information\",\"description\":\"$undefined\",\"icon\":\"$undefined\",\"url\":\"/docs/highlevel-info\",\"$ref\":{\"file\":\"highlevel-info\"}}]},\"children\":[\"$\",\"$L6\",null,{\"transparentMode\":\"$undefined\",\"children\":[[\"$\",\"$L7\",null,{\"className\":\"h-14 md:hidden\",\"children\":[[\"$\",\"$L8\",null,{\"href\":\"/\",\"className\":\"inline-flex items-center gap-2.5 font-semibold\",\"children\":[[\"$\",\"$L9\",null,{\"src\":{\"src\":\"/_next/static/media/logo.60f7ead8.svg\",\"height\":512,\"width\":512,\"blurWidth\":0,\"blurHeight\":0},\"alt\":\"logo\",\"width\":\"24\",\"height\":\"24\"}],\"Neutrino\"]}],[\"$\",\"div\",null,{\"className\":\"flex-1\",\"children\":\"$undefined\"}],[\"$\",\"$La\",null,{\"className\":\"p-2\",\"hideIfDisabled\":true}],[\"$\",\"$Lb\",null,{\"className\":\"p-2 -me-1.5 md:hidden\"}]]}],[\"$\",\"$Lc\",null,{\"className\":\"md:[--fd-sidebar-width:268px] lg:[--fd-sidebar-width:286px] xl:[--fd-toc-width:286px] [--fd-nav-height:56px] md:[--fd-nav-height:0px]\",\"children\":[[[\"$\",\"$Ld\",null,{}],[\"$\",\"$Le\",null,{\"collapsible\":true,\"children\":[[\"$\",\"$Lf\",null,{\"children\":[\"$\",\"$L10\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"flex max-md:hidden\",\"children\":[[\"$\",\"$L8\",null,{\"href\":\"/\",\"className\":\"inline-flex text-[15px] items-center gap-2.5 font-medium\",\"children\":\"$0:f:0:1:2:children:1:props:children:1:props:children:props:children:0:props:children:0:props:children\"}],\"$undefined\",[\"$\",\"$L11\",null,{\"className\":\"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none hover:bg-fd-accent hover:text-fd-accent-foreground p-1.5 [\u0026_svg]:size-4.5 ms-auto mb-auto text-fd-muted-foreground max-md:hidden\",\"children\":[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide\",\"children\":[[[\"$\",\"rect\",\"afitv7\",{\"width\":\"18\",\"height\":\"18\",\"x\":\"3\",\"y\":\"3\",\"rx\":\"2\"}],[\"$\",\"path\",\"fh3hqa\",{\"d\":\"M9 3v18\"}]],\"$undefined\"]}]}]]}],false,[\"$\",\"$L12\",null,{\"hideIfDisabled\":true,\"className\":\"max-md:hidden\"}],\"$undefined\"]}]}],[\"$\",\"$L13\",null,{\"children\":[[],[\"$\",\"$L14\",null,{\"components\":\"$undefined\"}]]}],[\"$\",\"$Lf\",null,{\"children\":[\"$\",\"$L15\",null,{\"children\":[[\"$\",\"$Lf\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-end\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center flex-1 empty:hidden\",\"children\":[[\"$\",\"$L16\",\"0\",{\"item\":{\"type\":\"icon\",\"url\":\"https://github.com/open-neutrino/neutrino\",\"text\":\"Github\",\"label\":\"GitHub\",\"icon\":[\"$\",\"svg\",null,{\"role\":\"img\",\"viewBox\":\"0 0 24 24\",\"fill\":\"currentColor\",\"children\":[\"$\",\"path\",null,{\"d\":\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\"}]}],\"external\":true},\"className\":\"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none hover:bg-fd-accent hover:text-fd-accent-foreground p-1.5 [\u0026_svg]:size-5 text-fd-muted-foreground md:[\u0026_svg]:size-4.5\",\"aria-label\":\"GitHub\",\"children\":\"$0:f:0:1:2:children:1:props:children:1:props:children:props:children:1:props:children:0:1:props:children:2:props:children:props:children:0:props:children:props:children:0:props:children:0:props:item:icon\"}]]}],null,[\"$\",\"$L17\",null,{\"className\":\"p-0\",\"mode\":\"$undefined\"}]]}]}],\"$undefined\"]}]}]]}]],[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]]}]}]]}],{\"children\":[[\"slug\",\"execute-model\",\"oc\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L18\",[\"$\",\"$L19\",null,{\"children\":\"$L1a\"}],null,[\"$\",\"$L1b\",null,{\"children\":[\"$L1c\",\"$L1d\",[\"$\",\"$L1e\",null,{\"promise\":\"$@1f\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"MOOz4GSALyczMCb9vSefo\",{\"children\":[[\"$\",\"$L20\",null,{\"children\":\"$L21\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$22\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"23:\"$Sreact.suspense\"\n24:I[4911,[],\"AsyncMetadata\"]\n26:I[5549,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"PageRoot\"]\n27:I[5549,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"PageTOCPopover\"]\n28:I[5549,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"PageTOCPopoverTrigger\"]\n29:I[5549,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"PageTOCPopoverContent\"]\n2a:I[8070,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"TOCScrollArea\"]\n2b:I[8070,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"TOCItems\"]\n2c:I[5549,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"PageBreadcrumb\"]\n2d:I[7401,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"CodeBlock\"]\n2e:I[7401,[\"459\",\"static/chunks/459-3343952df992"])</script><script>self.__next_f.push([1,"02c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"Pre\"]\n2f:I[8532,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"Tabs\"]\n30:I[8532,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"Tab\"]\n34:I[5549,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"PageFooter\"]\n35:I[5549,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"PageTOC\"]\n36:I[9697,[\"459\",\"static/chunks/459-3343952df99202c2.js\",\"468\",\"static/chunks/468-4edc99a1fcb3f5e1.js\",\"161\",\"static/chunks/161-92d69d2fc689b7ac.js\",\"870\",\"static/chunks/app/docs/%5B%5B...slug%5D%5D/page-b1e44e51d0424f00.js\"],\"I18nLabel\"]\n1a:[\"$\",\"$23\",null,{\"fallback\":null,\"children\":[\"$\",\"$L24\",null,{\"promise\":\"$@25\"}]}]\n"])</script><script>self.__next_f.push([1,"18:[\"$\",\"$L26\",null,{\"toc\":{\"toc\":[{\"depth\":2,\"url\":\"#motivating-example\",\"title\":\"Motivating Example\"},{\"depth\":3,\"url\":\"#some-justification\",\"title\":\"Some Justification\"},{\"depth\":2,\"url\":\"#virtualization-and-contexted-registers\",\"title\":\"Virtualization and Contexted Registers\"},{\"depth\":2,\"url\":\"#persistence-and-ebpf-like-map\",\"title\":\"Persistence and eBPF-like Map\"}],\"single\":\"$undefined\"},\"children\":[[\"$\",\"$L27\",null,{\"children\":[[\"$\",\"$L28\",null,{}],[\"$\",\"$L29\",null,{\"children\":[\"$undefined\",[\"$\",\"$L2a\",null,{\"children\":[\"$\",\"$L2b\",null,{}]}],\"$undefined\"]}]]}],[\"$\",\"article\",null,{\"children\":[[\"$\",\"$L2c\",null,{}],[[\"$\",\"h1\",null,{\"ref\":\"$undefined\",\"children\":\"Execution Model\",\"className\":\"text-3xl font-semibold\"}],null,[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"children\":[[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"my-4 flex gap-2 rounded-lg border border-s-2 bg-fd-card p-3 text-sm text-fd-card-foreground shadow-md border-s-blue-500/50\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide size-5 fill-blue-500 text-fd-card\",\"children\":[[[\"$\",\"circle\",\"1mglay\",{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\"}],[\"$\",\"path\",\"1dtifu\",{\"d\":\"M12 16v-4\"}],[\"$\",\"path\",\"e9boi3\",{\"d\":\"M12 8h.01\"}]],\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"min-w-0 flex flex-col gap-2 flex-1\",\"children\":[null,[\"$\",\"div\",null,{\"className\":\"text-fd-muted-foreground prose-no-margin empty:hidden\",\"children\":[\"$\",\"p\",null,{\"children\":[\"Contents of this page targets general developers with intuitiveness in mind.\\nYou can find a more formal, professional description in \",[\"$\",\"em\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Neutrino Design\"}]}],\" section of our OSDI 25 paper.\"]}]}]]}]]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"flex scroll-m-28 flex-row items-center gap-2\",\"id\":\"motivating-example\",\"children\":[[\"$\",\"a\",null,{\"data-card\":\"\",\"href\":\"#motivating-example\",\"className\":\"peer\",\"children\":\"Motivating Example\"}],[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100\",\"aria-label\":\"Link to section\",\"children\":[[[\"$\",\"path\",\"1cjeqo\",{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",\"19qd67\",{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]],\"$undefined\"]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"neutrino\"}],\" probes are executed in a simple, interesting but robust model.\\nLet's consider a motivating example (regardless of GPU):\"]}],\"\\n\",[\"$\",\"$L2d\",null,{\"className\":\"shiki shiki-themes github-light github-dark\",\"style\":{\"--shiki-light\":\"#24292e\",\"--shiki-dark\":\"#e1e4e8\",\"--shiki-light-bg\":\"#fff\",\"--shiki-dark-bg\":\"#24292e\"},\"tabIndex\":\"0\",\"title\":\"original.c\",\"icon\":\"\u003csvg viewBox=\\\"0 0 24 24\\\"\u003e\u003cpath d=\\\"M16.5921 9.1962s-.354-3.298-3.627-3.39c-3.2741-.09-4.9552 2.474-4.9552 6.14 0 3.6651 1.858 6.5972 5.0451 6.5972 3.184 0 3.5381-3.665 3.5381-3.665l6.1041.365s.36 3.31-2.196 5.836c-2.552 2.5241-5.6901 2.9371-7.8762 2.9201-2.19-.017-5.2261.034-8.1602-2.97-2.938-3.0101-3.436-5.9302-3.436-8.8002 0-2.8701.556-6.6702 4.047-9.5502C7.444.72 9.849 0 12.254 0c10.0422 0 10.7172 9.2602 10.7172 9.2602z\\\" fill=\\\"currentColor\\\" /\u003e\u003c/svg\u003e\",\"children\":[\"$\",\"$L2e\",null,{\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},\"children\":\"// use function because GPU Kernel are Function\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},\"children\":\" add\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},\"children\":\" a\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},\"children\":\" b\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" a \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"+\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" b;\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" result \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},\"children\":\" add\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},\"children\":\"1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},\"children\":\"2\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\");\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},\"children\":\" // shall be 3\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"If we want to observe the program, for example, the value of \",[\"$\",\"code\",null,{\"children\":\"a\"}],\" in the runtime,\\none interesting way is to \",[\"$\",\"strong\",null,{\"children\":\"\\\"fuse\\\" another function\"}],\" (what we call probe)\\nlike the following example:\"]}],\"\\n\",[\"$\",\"$L2f\",null,{\"items\":[\"simpler\",\"and can be more seamless\"],\"children\":[[\"$\",\"$L30\",null,{\"value\":\"simpler\",\"children\":[\"$\",\"$L2d\",null,{\"className\":\"shiki shiki-themes github-light github-dark\",\"style\":{\"--shiki-light\":\"#24292e\",\"--shiki-dark\":\"#e1e4e8\",\"--shiki-light-bg\":\"#fff\",\"--shiki-dark-bg\":\"#24292e\"},\"tabIndex\":\"0\",\"title\":\"probe.c\",\"icon\":\"\u003csvg viewBox=\\\"0 0 24 24\\\"\u003e\u003cpath d=\\\"M16.5921 9.1962s-.354-3.298-3.627-3.39c-3.2741-.09-4.9552 2.474-4.9552 6.14 0 3.6651 1.858 6.5972 5.0451 6.5972 3.184 0 3.5381-3.665 3.5381-3.665l6.1041.365s.36 3.31-2.196 5.836c-2.552 2.5241-5.6901 2.9371-7.8762 2.9201-2.19-.017-5.2261.034-8.1602-2.97-2.938-3.0101-3.436-5.9302-3.436-8.8002 0-2.8701.556-6.6702 4.047-9.5502C7.444.72 9.849 0 12.254 0c10.0422 0 10.7172 9.2602 10.7172 9.2602z\\\" fill=\\\"currentColor\\\" /\u003e\u003c/svg\u003e\",\"children\":[\"$\",\"$L2e\",null,{\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},\"children\":\"//  use function because GPU Kernel are Function\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},\"children\":\" probed_add\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},\"children\":\" a\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},\"children\":\" b\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int*\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},\"children\":\" c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"    *\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"c \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" a;\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},\"children\":\"       // add our probed code\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" a \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"+\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" b;\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},\"children\":\" // remain the original code\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},\"children\":\"// and change the caller a bit\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int*\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" c \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"void*\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},\"children\":\"malloc\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"sizeof\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\")); \"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" result \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},\"children\":\" add\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},\"children\":\"1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},\"children\":\"2\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\", c);\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},\"children\":\" // shall still be 3\"}]]}]]}]}]}]}],[\"$\",\"$L30\",null,{\"value\":\"and can be more seamless\",\"children\":[\"$\",\"$L2d\",null,{\"className\":\"shiki shiki-themes github-light github-dark\",\"style\":{\"--shiki-light\":\"#24292e\",\"--shiki-dark\":\"#e1e4e8\",\"--shiki-light-bg\":\"#fff\",\"--shiki-dark-bg\":\"#24292e\"},\"tabIndex\":\"0\",\"title\":\"probe.c\",\"icon\":\"\u003csvg viewBox=\\\"0 0 24 24\\\"\u003e\u003cpath d=\\\"M16.5921 9.1962s-.354-3.298-3.627-3.39c-3.2741-.09-4.9552 2.474-4.9552 6.14 0 3.6651 1.858 6.5972 5.0451 6.5972 3.184 0 3.5381-3.665 3.5381-3.665l6.1041.365s.36 3.31-2.196 5.836c-2.552 2.5241-5.6901 2.9371-7.8762 2.9201-2.19-.017-5.2261.034-8.1602-2.97-2.938-3.0101-3.436-5.9302-3.436-8.8002 0-2.8701.556-6.6702 4.047-9.5502C7.444.72 9.849 0 12.254 0c10.0422 0 10.7172 9.2602 10.7172 9.2602z\\\" fill=\\\"currentColor\\\" /\u003e\u003c/svg\u003e\",\"children\":[\"$\",\"$L2e\",null,{\"children\":[\"$\",\"code\",null,{\"children\":[[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},\"children\":\"//  use function because GPU Kernel are Function\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},\"children\":\" probed_add\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},\"children\":\" a\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},\"children\":\" b\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int*\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},\"children\":\" c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"    *\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"c \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" a;\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},\"children\":\"       // add our probed code\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" a \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"+\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" b;\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6A737D\",\"--shiki-dark\":\"#6A737D\"},\"children\":\" // remain the original code\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},\"children\":\" launch\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"((\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int*\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},\"children\":\"binop\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"), \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},\"children\":\" lhs\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#E36209\",\"--shiki-dark\":\"#FFAB70\"},\"children\":\" rhs\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"    int*\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" c \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"void*\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},\"children\":\"malloc\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"sizeof\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\")); \"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},\"children\":\" binop\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(lhs, rhs, c);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\"}],\"\\n\",[\"$\",\"span\",null,{\"className\":\"line\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"int\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\" result \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#D73A49\",\"--shiki-dark\":\"#F97583\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#6F42C1\",\"--shiki-dark\":\"#B392F0\"},\"children\":\" launch\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\"(probed_add, \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},\"children\":\"1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#005CC5\",\"--shiki-dark\":\"#79B8FF\"},\"children\":\"2\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#24292E\",\"--shiki-dark\":\"#E1E4E8\"},\"children\":\");\"}]]}]]}]}]}]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This idea is similar to the kernel fusion, which proves that two independent functions can be safely merged into one, if:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Two merged function has independent parameters and returns.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Two merged function has independent variable names (register space).\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Two merged function has independent instructions, which is naturally guaranteed as instructions are executed one-by-one in CPU/GPU/NPU.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"By ensuring these conditions, this program model\\nis robustly correct as the compiler/assembler will help protect the correctness\\nand is of nearly zero-overhead because there is no context switch or stack frame creation, etc.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"And the only difference between \",[\"$\",\"code\",null,{\"children\":\"neutrino\"}],\" probe and other kernel fusion is that \",[\"$\",\"code\",null,{\"children\":\"neutrino\"}],\" probes' code depends on the client program (e.g., \",[\"$\",\"code\",null,{\"children\":\"*c = a;\"}],\"),\\nwhich can still guarantee the security if the dependence is read-only.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Another analogy is like a \",[\"$\",\"code\",null,{\"children\":\"daemon\"}],\" that runs in the background and is invoked when need to read the foreground code's runtime value.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"className\":\"flex scroll-m-28 flex-row items-center gap-2\",\"id\":\"some-justification\",\"children\":[[\"$\",\"a\",null,{\"data-card\":\"\",\"href\":\"#some-justification\",\"className\":\"peer\",\"children\":\"Some Justification\"}],[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100\",\"aria-label\":\"Link to section\",\"children\":[[[\"$\",\"path\",\"1cjeqo\",{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",\"19qd67\",{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]],\"$undefined\"]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"However, though the model is simple, the requirement is strict that the program must be \\\"static\\\", means\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Codes cannot change itself in the runtime (like \",\"$L31\",\" or a simple \",[\"$\",\"code\",null,{\"children\":\"eval()\"}],\" in Javascript/Python)\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"All codes must be known in advanced for processing, i.e., cannot load unknown program (like \",[\"$\",\"code\",null,{\"children\":\"dlopen\"}],\").\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"All these can make the probe not tracing correctly, and this is why this model has been largely forgetten by CPU performance engineers,\\nwho now uses \",\"$L32\",\" or \",\"$L33\",\" for better coverage.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"However, \",[\"$\",\"code\",null,{\"children\":\"neutrino\"}],\" identifies that this model works fluently on GPU because:\"]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"GPU code cannot change itself.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"GPU code must be loaded explicitly to driver.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"These two reasons make us to choose this simple program model for \",[\"$\",\"code\",null,{\"children\":\"neutrino\"}],\", a GPU kernel profiler.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"flex scroll-m-28 flex-row items-center gap-2\",\"id\":\"virtualization-and-contexted-registers\",\"children\":[[\"$\",\"a\",null,{\"data-card\":\"\",\"href\":\"#virtualization-and-contexted-registers\",\"className\":\"peer\",\"children\":\"Virtualization and Contexted Registers\"}],[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100\",\"aria-label\":\"Link to section\",\"children\":[[[\"$\",\"path\",\"1cjeqo\",{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",\"19qd67\",{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]],\"$undefined\"]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Now we present more technical discussion on the virtualization of \",[\"$\",\"code\",null,{\"children\":\"neutrino\"}],\"'s probe w.r.t. the original/foreground computing tasks.\\nFollowing the principle of operating system,\\nvirtualization comes from both time and resource separation:\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Time Separation\"}],\": \",[\"$\",\"code\",null,{\"children\":\"neutrino\"}],\"s originates from the SIMT execution model of GPGPU, where parallelism happens among threads while execution within a thread is generally sequential with one instruction at a cycle. Therefore, since we directly instruments the instructions into the original program,  their time separation from the original program will be guaranteed.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Resource Separation\"}],\": GPU threads also have thread-private registers as their primary resources. \",[\"$\",\"code\",null,{\"children\":\"neutrino\"}],\" virtualizes the probe registers by separating an independent register group, as well as other resources like GMEM. Thus, \",[\"$\",\"code\",null,{\"children\":\"neutrino\"}],\" probes can avoid affecting the original program's resources, and the execution flow.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"ref\":\"$undefined\",\"className\":\"my-4 flex gap-2 rounded-lg border border-s-2 bg-fd-card p-3 text-sm text-fd-card-foreground shadow-md border-s-blue-500/50\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide size-5 fill-blue-500 text-fd-card\",\"children\":[[[\"$\",\"circle\",\"1mglay\",{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\"}],[\"$\",\"path\",\"1dtifu\",{\"d\":\"M12 16v-4\"}],[\"$\",\"path\",\"e9boi3\",{\"d\":\"M12 8h.01\"}]],\"$undefined\"]}],[\"$\",\"div\",null,{\"className\":\"min-w-0 flex flex-col gap-2 flex-1\",\"children\":[[\"$\",\"p\",null,{\"className\":\"font-medium !my-0\",\"children\":\"Logical and Physical Registers\"}],[\"$\",\"div\",null,{\"className\":\"text-fd-muted-foreground prose-no-margin empty:hidden\",\"children\":[\"$\",\"p\",null,{\"children\":[\"It is worth noting that \",[\"$\",\"code\",null,{\"children\":\"neutrino\"}],\" probe register group is declared logically at the assembly level rather than physically. Logical registers will be integrated into physical registers by the assembler in register allocation, with independence between probes and the original program preserved by dependency tracking algorithms.\"]}]}]]}]]}],\"\\n\",[\"$\",\"h2\",null,{\"className\":\"flex scroll-m-28 flex-row items-center gap-2\",\"id\":\"persistence-and-ebpf-like-map\",\"children\":[[\"$\",\"a\",null,{\"data-card\":\"\",\"href\":\"#persistence-and-ebpf-like-map\",\"className\":\"peer\",\"children\":\"Persistence and eBPF-like Map\"}],[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100\",\"aria-label\":\"Link to section\",\"children\":[[[\"$\",\"path\",\"1cjeqo\",{\"d\":\"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71\"}],[\"$\",\"path\",\"19qd67\",{\"d\":\"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71\"}]],\"$undefined\"]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"For CPU profiling tools, saving readings are simple, at least you can simply \",[\"$\",\"code\",null,{\"children\":\"printf\"}],\" to the shell.\\nHowever, anyone used CUDA/HIP \",[\"$\",\"code\",null,{\"children\":\"printf\"}],\" will noticed the challenge of persistence on GPU:\"]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Race condition: GPU can have \u003e10,000 threads, saving results without concurrency cotnrol can easily leads to corruption. But concurrency control, such as \",[\"$\",\"code\",null,{\"children\":\"atomic\"}],\" is also heavy on GPU...\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Metadata-heavy: Usually we want \",[\"$\",\"code\",null,{\"children\":\"pid/tid\"}],\" (8 bytes) be included for analysis, but on GPU, these will takes 24 bytes (\",[\"$\",\"code\",null,{\"children\":\"blockIdx/gridIdx\"}],\") or more (if need \",[\"$\",\"code\",null,{\"children\":\"blockDim/gridDim\"}],\").\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Inspired by the lock-free per-cpu eBPF maps and event-buffer of HIPAnalyzer, \",[\"$\",\"code\",null,{\"children\":\"neutrino\"}],\" presents a eBPF-like per-thread/warp Map, the main idea is:\"]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"Let each thread/warp has their map, rather than sharing a global map, so no lock/atomic need.\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Formulate the maps in \",[\"$\",\"code\",null,{\"children\":\"ndarray\"}],\" layout, let metadata (\",[\"$\",\"code\",null,{\"children\":\"threadIdx/blockIdx\"}],\") implicitly inferred from array structure rather than directly stored.\"]}],\"\\n\"]}]],\"className\":\"prose\"}]],[\"$\",\"div\",null,{\"role\":\"none\",\"className\":\"flex-1\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-row flex-wrap items-center justify-between gap-4 empty:hidden\",\"children\":[\"$undefined\",\"$undefined\"]}],[\"$\",\"$L34\",null,{\"items\":\"$undefined\"}]],\"className\":\"flex min-w-0 w-full flex-col gap-6 px-4 pt-8 md:px-6 md:mx-auto xl:pt-12 xl:px-12\"}],[\"$\",\"$L35\",null,{\"children\":[\"$undefined\",[\"$\",\"h3\",null,{\"className\":\"inline-flex items-center gap-1.5 text-sm text-fd-muted-foreground\",\"children\":[[\"$\",\"svg\",null,{\"ref\":\"$undefined\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide size-4\",\"children\":[[[\"$\",\"path\",\"olowqp\",{\"d\":\"M15 18H3\"}],[\"$\",\"path\",\"16j9eg\",{\"d\":\"M17 6H3\"}],[\"$\",\"path\",\"2avoz0\",{\"d\":\"M21 12H3\"}]],\"$undefined\"]}],[\"$\",\"$L36\",null,{\"label\":\"toc\"}]]}],[\"$\",\"$L2a\",null,{\"children\":[\"$\",\"$L2b\",null,{}]}],\"$undefined\"]}]]}]\n"])</script><script>self.__next_f.push([1,"1d:null\n31:[\"$\",\"$L8\",null,{\"href\":\"https://en.wikipedia.org/wiki/Monkey_patch\",\"children\":\"Monkey Patching\"}]\n32:[\"$\",\"$L8\",null,{\"href\":\"https://perf.wiki.kernel.org/index.php/Perf_tools_support_for_Intel%C2%AE_Processor_Trace\",\"children\":\"processor trace\"}]\n33:[\"$\",\"$L8\",null,{\"href\":\"https://ebpf.io\",\"children\":\"interrupt\"}]\n"])</script><script>self.__next_f.push([1,"21:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n1c:null\n"])</script><script>self.__next_f.push([1,"25:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Execution Model\"}]],\"error\":null,\"digest\":\"$undefined\"}\n1f:{\"metadata\":\"$25:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script></body></html>